web: python backend/manage.py migrate --noinput && ( [ "$DJANGO_SUPERUSER_USERNAME" ] && [ "$DJANGO_SUPERUSER_PASSWORD" ] && echo "Creating superuser..." && python backend/manage.py shell -c "from django.contrib.auth import get_user_model;import os;U=get_user_model();u=os.environ['DJANGO_SUPERUSER_USERNAME'];(U.objects.filter(username=u).exists()) or U.objects.create_superuser(u, os.environ.get('DJANGO_SUPERUSER_EMAIL','admin@example.com'), os.environ['DJANGO_SUPERUSER_PASSWORD'])" || echo "Superuser creation skipped" ) && gunicorn backend.project.wsgi:application --bind 0.0.0.0:$PORT
